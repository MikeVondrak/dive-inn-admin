@use 'sass:math';
@use '../../scss/utility';

$headerColor: utility.$dive-gray-dk3;

:host {
  display: flex;
  flex-direction: column;

  app-site-header {
    display: block;
    position: sticky;
    top: 0;
    z-index: 9;
  }

  // end header
  $mainBackgroundHeight: 50vw;

  .main {
    //position: relative;
    flex: 1;

    .page-title-section {
      position: relative;

      app-food-logos {
        bottom: 2rem;
        // left: 3rem;
        position: absolute;
      }

      app-moving-background {
        min-height: 400px;
      }

      // @TODO - move into homepage mouse-facer bg
      .westword-award {
        // display: none;

        @include utility.media-breakpoint-gte(md) {
          display: block;
        }

        z-index: 1;
        position: absolute;
        bottom: 1vw;
        right: 1vw;
        // $deg: 18deg;
        // transform: skew(24deg) rotateZ(23deg);
        background-color: rgba(0, 0, 0, 0.9);

        &::after {
          // remove underline dots - TODO refactor to not need this

          @keyframes glowAnimation {
            0% {
              opacity: 1;
            }

            15% {
              opacity: 0;
            }

            50% {
              opacity: 0;
            }

            85% {
              opacity: 0;
            }

            100% {
              opacity: 1;
            }
          }

          content: '';
          position: absolute;
          width: 100%;
          height: 100%;
          opacity: 1;
          box-shadow: 0px 0px 24px -10px #fff;
          animation: glowAnimation 4s ease-in-out infinite;
          background: none;
        }

        img {
          width: clamp(260px, 18vw, 600px);
          padding-right: 0.5rem;
        }
      }
    }

    app-contact-section {}



    $separatorSizes: (
      'zero': 10vw,
      'sm': 4.5vw
    );

  .intro-section {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;

    .blurb-separator-top,
    .blurb-separator-bottom {
      width: map-get($separatorSizes, 'zero');
      margin: 6vw 0 2vw;

      @include utility.media-breakpoint-gte(sm) {
        width: map-get($separatorSizes, 'sm');
      }
    }

    .blurb-separator-bottom {
      margin-top: 0;
      margin-bottom: 5vw;
    }
    
  }

  .sections-container {
    margin: 10vw auto;
    // padding: $verticalGap 0;
    //border-top: 1px solid utility.$line-colors;

    //border-bottom: 1px solid utility.$line-colors;
    @include utility.media-breakpoint-gte(sm) {
      width: 80vw;
    }

    @include utility.media-breakpoint-gte(lg) {
      width: 75vw;
    }

    @include utility.media-breakpoint-gte(ws) {
      width: 70vw;
    }
  } // end sections-container

  .sections-bottom-separator {
    width: map-get($separatorSizes, 'zero') * 0.7;
    margin: 2vw auto 8vw;

    @include utility.media-breakpoint-gte(sm) {
      width: map-get($separatorSizes, 'sm') * 0.7;
    }

    svg {
      path {
        fill: utility.$dive-red;
      }
    }
  }

  .anchor-separator-bottom {
    display: block;
    width: map-get($map: $separatorSizes, $key: 'zero');
    margin: 6vw auto;

    @include utility.media-breakpoint-gte(sm) {
      width: map-get($map: $separatorSizes, $key: 'sm');
    }

    g path {
      fill: utility.$dive-red;
    }
  }

  app-mouse-facer-card {
    display: block;
    margin: 8vw 0;
    border-top: 1px solid utility.$line-colors;
    border-bottom: 1px solid utility.$line-colors;

    &:first-of-type {
      margin-top: 0;
    }
  }

  .sextant-separator {
    width: map-get($map: $separatorSizes, $key: 'zero');

    @include utility.media-breakpoint-gte(sm) {
      width: map-get($map: $separatorSizes, $key: 'sm');
    }

    margin: 4vw auto;

    svg {

      path,
      circle,
      rect {
        stroke: utility.$dive-red;
        fill: utility.$dive-red;
      }
    }
  }

  .compass-separator {
    svg {
      display: block;
      width: map-get($map: $separatorSizes, $key: 'zero') * 1.5;

      @include utility.media-breakpoint-gte(sm) {
        width: map-get($map: $separatorSizes, $key: 'sm') * 1.5;
      }

      margin: 2vw auto 4vw;

      path {
        fill: utility.$dive-black;

        &.highlight-color {
          fill: utility.$dive-red;
        }
      }
    }
  }
}

// end main

$waveSize: 3vw;

.waves-separator {
  position: relative;
  z-index: 1;
  display: flex;
  height: $waveSize;
  width: 100%;
  top: -($waveSize - 0.2vw);
  background-image: url('/assets/images/wave.svg');

  &.footer {
    height: 2vw;
    top: 2px;
    background-image: url('/assets/images/wave-red.svg');
  }
}

}

app-moving-background {
  display: block;
  //width: 50vw;
  //height: 50vh;
}